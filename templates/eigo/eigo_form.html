{% extends '_base.html' %}
{% load static %}
{% load widget_tweaks %}

{% block title %}
{% endblock title %}

{% block content %}
<div class="uk-container-small uk-align-center">
    <form action="" method="post" enctype="multipart/form-data">
        {% csrf_token %}
        <div class="eigo-form-phrase eigo-form-common" uk-margin>
            <h3>{{ form.phrase.label }}</h3>
            {{ form.phrase | add_class:'uk-input uk-width-1-3 uk-form-large' }}
        </div>

        <div class="eigo-form-example eigo-form-common" uk-margin>
            <h3>Examples</h3>
            {{ examples.management_form }}
            {% for example_form in examples %}
                {{ example_form.example | add_class:'uk-input' }}
            {% endfor %}
        </div>

        <div class="eigo-form-snap eigo-form-common" uk-margin>
            <h3>Snaps</h3>
            <ul class="uk-list uk-list-divider">
                {{ snaps.management_form }}
                {% for snap_form in snaps %}
                    <li>{{ snap_form.snap }}</li>
                {% endfor %}
            </ul>
        </div>

        <div class="eigo-form-submit eigo-form-common uk-flex uk-flex-right">
            <button type="submit" class="uk-button uk-button-primary">save</button>
        </div>
    </form>
</div>
{% endblock content %}

{% block style %}
<link rel="stylesheet" href="{% static 'css/eigo-form.css' %}">
{% endblock style %}

{% block javascript %}
<script>
{% comment %} var bar = document.getElementById('js-progressbar');
UIkit.upload('.js-upload', {

    url: '',
    multiple: true,

    beforeSend: function () {
        console.log('beforeSend', arguments);
    },
    beforeAll: function () {
        console.log('beforeAll', arguments);
    },
    load: function () {
        console.log('load', arguments);
    },
    error: function () {
        console.log('error', arguments);
    },
    complete: function () {
        console.log('complete', arguments);
    },

    loadStart: function (e) {
        console.log('loadStart', arguments);

        bar.removeAttribute('hidden');
        bar.max = e.total;
        bar.value = e.loaded;
    },

    progress: function (e) {
        console.log('progress', arguments);

        bar.max = e.total;
        bar.value = e.loaded;
    },

    loadEnd: function (e) {
        console.log('loadEnd', arguments);

        bar.max = e.total;
        bar.value = e.loaded;
    },

    completeAll: function () {
        console.log('completeAll', arguments);

        setTimeout(function () {
            bar.setAttribute('hidden', 'hidden');
        }, 1000);

        alert('Upload Completed');
    }

}); {% endcomment %}
</script>
{% endblock javascript %}

{% comment %} | add_class:'uk-input' {% endcomment %}